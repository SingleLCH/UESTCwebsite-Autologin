# UESTC自动登录程序 - 托盘版本

## 新增功能

### 系统托盘图标
- 🟢 绿色圆圈：网络在线状态
- 🔴 红色圆圈：网络离线状态  
- 🟠 橙色圆圈：程序启动中

### 托盘菜单功能
1. **显示状态** - 查看详细运行信息：
   - 主机名
   - 运行时间
   - 当前网络状态
   - 失败次数
   - 登录尝试次数
   - 最后检查时间

2. **退出程序** - 安全关闭程序

## 安装和使用

### 1. 安装依赖
运行 `build.bat` 脚本，或手动执行：
```bash
pip install pystray pillow pyinstaller
```

### 2. 打包程序
使用 PyInstaller 打包：
```bash
pyinstaller --noconsole --onefile --name "UESTC自动登录" always_online.py
```

参数说明：
- `--noconsole`: 不显示控制台窗口
- `--onefile`: 打包成单个exe文件
- `--name`: 指定生成的exe文件名

### 3. 开机自启动设置
1. 将生成的 exe 文件复制到合适位置
2. 按 Win+R，输入 `shell:startup` 打开启动文件夹
3. 创建 exe 文件的快捷方式到启动文件夹

## 配置文件

请确保 `config.py` 中的信息正确：
- 学号和密码
- 网络认证地址
- 网络类型（电信/移动/校园网）

## 注意事项

1. 程序完全静默运行，只有托盘图标显示状态
2. 可以通过托盘图标查看详细状态信息
3. 程序会自动检测网络状态并尝试重新登录
4. 所有日志会保存到 logs 目录中

## 故障排除

如果托盘图标不显示：
1. 确保已安装 pystray 和 pillow 库
2. 检查系统托盘设置，确保允许显示图标
3. 查看 logs 目录中的日志文件

如果网络检测异常：
1. 检查防火墙设置
2. 确认 ping 命令可用
3. 检查网络配置